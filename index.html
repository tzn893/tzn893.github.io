<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>tzn的小窝</title><meta name="author" content="tzn"><meta name="copyright" content="tzn"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta property="og:type" content="website">
<meta property="og:title" content="tzn的小窝">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="tzn的小窝">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/images/ranran0.png">
<meta property="article:author" content="tzn">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/images/ranran0.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'tzn的小窝',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2025-06-26 10:25:04'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.0.0"><style>mjx-container[jax="SVG"] {
  direction: ltr;
}

mjx-container[jax="SVG"] > svg {
  overflow: visible;
}

mjx-container[jax="SVG"][display="true"] {
  display: block;
  text-align: center;
  margin: 1em 0;
}

mjx-container[jax="SVG"][justify="left"] {
  text-align: left;
}

mjx-container[jax="SVG"][justify="right"] {
  text-align: right;
}

g[data-mml-node="merror"] > g {
  fill: red;
  stroke: red;
}

g[data-mml-node="merror"] > rect[data-background] {
  fill: yellow;
  stroke: none;
}

g[data-mml-node="mtable"] > line[data-line] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > rect[data-frame] {
  stroke-width: 70px;
  fill: none;
}

g[data-mml-node="mtable"] > .mjx-dashed {
  stroke-dasharray: 140;
}

g[data-mml-node="mtable"] > .mjx-dotted {
  stroke-linecap: round;
  stroke-dasharray: 0,140;
}

g[data-mml-node="mtable"] > svg {
  overflow: visible;
}

[jax="SVG"] mjx-tool {
  display: inline-block;
  position: relative;
  width: 0;
  height: 0;
}

[jax="SVG"] mjx-tool > mjx-tip {
  position: absolute;
  top: 0;
  left: 0;
}

mjx-tool > mjx-tip {
  display: inline-block;
  padding: .2em;
  border: 1px solid #888;
  font-size: 70%;
  background-color: #F8F8F8;
  color: black;
  box-shadow: 2px 2px 5px #AAAAAA;
}

g[data-mml-node="maction"][data-toggle] {
  cursor: pointer;
}

mjx-status {
  display: block;
  position: fixed;
  left: 1em;
  bottom: 1em;
  min-width: 25%;
  padding: .2em .4em;
  border: 1px solid #888;
  font-size: 90%;
  background-color: #F8F8F8;
  color: black;
}

foreignObject[data-mjx-xml] {
  font-family: initial;
  line-height: normal;
  overflow: visible;
}

.MathJax path {
  stroke-width: 3;
}

mjx-container[display="true"] {
  overflow: auto hidden;
}

mjx-container[display="true"] + br {
  display: none;
}
</style></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/ranran0.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/images/haruharu0.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="tzn的小窝"><span class="site-name">tzn的小窝</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">tzn的小窝</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/2025/06/26/UE-terrain-1/" title="UE4中的地形以及植被系统(1)--地形的编辑"><img class="post-bg" src="/images/ia1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="UE4中的地形以及植被系统(1)--地形的编辑"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/06/26/UE-terrain-1/" title="UE4中的地形以及植被系统(1)--地形的编辑">UE4中的地形以及植被系统(1)--地形的编辑</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-06-26T02:03:14.000Z" title="发表于 2025-06-26 10:03:14">2025-06-26</time></span></div><div class="content"> 临近入职，最近mt安排我看一点有关UE4中植被编辑的源码。而植被系统与地形系统又密切相关，因此本人决定一并阅读地形系统以源代码，并将阅读过程中整理出来的信息写成文档（可以显得我这几天干活比较卖力）。本文作为系列的第一篇文章，记录了地形编辑系统基本操作、源码结构；并以Sculpture功能为例，展示了编辑过程中的数据流通过程。
1. 地编系统的基本操作在UE4中地形的编辑需要在landscape模式下进行。由于我UE的布局和网上大多数教程不一样，并没有Place Actor界面上的Landscape按钮，因此我一般是通过如图所示的modes按钮开启Landscape模式。

在第一次进入Landscape模式，没有创建任何Landscape的情况下，往往需要创建一个新的landscape。Landscape的创建界面如下图所示。

可以看到，一个地形对象的mesh被分为3个层级component-section-quad。其中，一个component可以包含多个section而一个section又可以包含多个quad，而一个quad为两个三角形拼成的方形，为构成地形对象的最小单位。
通 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2025/05/13/mat-cook-torrance/" title="再探PBR--微表面模型"><img class="post-bg" src="/images/kyky.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="再探PBR--微表面模型"></a></div><div class="recent-post-info"><a class="article-title" href="/2025/05/13/mat-cook-torrance/" title="再探PBR--微表面模型">再探PBR--微表面模型</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2025-05-13T01:58:37.000Z" title="发表于 2025-05-13 09:58:37">2025-05-13</time></span></div><div class="content">还记得面试被问到是否了解PBR的时候，我每次都能吟唱而出：“PBR基于能量守恒理论，能保证入射能量和出射能量一致，其中，漫反射由Lambert项模拟，而金属材质由Cook-Torrance项模拟，Cook-Torrance基于微表面模型包括法线分布，几何遮蔽以及菲涅尔反射项。”每当被问到这些问题，我心里都在祈祷面试官不会继续追问下去，因为我并不清楚这几个神奇的式子究竟是从哪里冒出来的，和它声称的“微表面”模型的联系在哪里（实际上工业界可能确实不关心这些问题）。
最近刷了一下UCSD CSE 272，并阅读了Eric[1]，在这方面又有些新的感悟，随撰文记录。
1.再探微表面模型微表面模型假设了物体表面由无数微小表面构成的，这些微小表面的表现累积成了宏观上物体表面的表现。目前，网上很多流行的PBR教程都是这么描述的。然而，目前鲜有资料说明用更严谨的数学语言描述这些微表面的行为，微表面模型中法线分布D, 菲涅尔F以及几何遮蔽项G这些描述宏观统计表现的项是怎么”统计”出来的。而这就是本节的重点。
考虑一个微表面分布，如图1所示。

对于一个法线为 的物体表面（黑色线段），其由无数微表面构成（ ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/10/25/Volume2/" title="再探体渲染(二)--Ray Marching 从理论到实现"><img class="post-bg" src="/images/kiki0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="再探体渲染(二)--Ray Marching 从理论到实现"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/25/Volume2/" title="再探体渲染(二)--Ray Marching 从理论到实现">再探体渲染(二)--Ray Marching 从理论到实现</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-10-25T13:35:57.000Z" title="发表于 2024-10-25 21:35:57">2024-10-25</time></span></div><div class="content">前文中探讨了基于物理的体渲染的理论以及相关结论的推导。在本文中，我将展示如何按照前文推导的公式，在unity中实现一套基于ray marching的”丐版“体积雾(只支持方形，全局只能有一个volume)。最后，我们会简单讨论该方案的一些优化方案。
理论回顾关于体渲染的理论以及公式在上一篇文章中有详细介绍。
这里只列出几个重要的公式。
体渲染公式如下所示:

L_i(p,\omega) = L_o(p'',-\omega) Tr(p''\to p) + \int_{p\to p'} Tr(p'\to p)\sigma_t(p',\omega)L_s(p',\omega) dt (1)其中

Tr(p\to p') =\frac{L_o(p',\omega)}{L_o(p,\omega)}= e^{\int_0^d - \sigma_t(p+\omega t,\omega) dt} (2)
L_s(p,\omega) = \frac{\sigma_\alpha(p,\omega)}{\sigma_t (p,\omega)} L_e(p,\omega) + \frac{\sigma_{s} ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/10/22/VolumeRender1/" title="再探体渲染（一）-- 理论"><img class="post-bg" src="/images/misc0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="再探体渲染（一）-- 理论"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/10/22/VolumeRender1/" title="再探体渲染（一）-- 理论">再探体渲染（一）-- 理论</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-10-22T15:08:24.000Z" title="发表于 2024-10-22 23:08:24">2024-10-22</time></span></div><div class="content">由于之前实习接触到体积雾相关的东西，想顺带把这一系列相关渲染技术复现一下，于是从这篇文章开始看起RayMarching实时体积云渲染入门(上) - 知乎 [1] 。实现到一半发现自己很多理论不扎实的地方（代码和公式没法联系到一起），遂重新研读了PBRT的Volume Rendering [2]部分。不得不说，这东西不隔一阵子梳理一下真的巨容易忘，也应了闫在课上说的”常看常新“了。
微分形式以下部分均来自[2]
对于一小段体积微元的出射强度 主要和一下几项有关：
吸收当入射光线穿过体微元时，其能量损失为

dL_o(p, \omega) = -\sigma_\alpha (p, \omega) L_i(p,-\omega) dt (1.1)其中， 为当前点吸收能量的多少。该项模拟了光线射入粒子内部造成的能量损失。

自发光由于光线穿过的微元内粒子的化学，辐射等现象导致的能量出射。其微分形式和吸收类似

dL_o(p,\omega) = \sigma_\alpha(p,\omega) L_e(p,\omega)dt (1.2)其中 为粒子的自发光强度。由于该现象在游戏中不常见，因此很少有和 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/06/13/Interview/" title="校招面试题汇总"><img class="post-bg" src="/images/mika1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="校招面试题汇总"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/06/13/Interview/" title="校招面试题汇总">校招面试题汇总</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-13T06:52:33.000Z" title="发表于 2024-06-13 14:52:33">2024-06-13</time></span></div><div class="content"> 收集校招面试中遇到的基础问题。
本人校招已结束，故停更。后面随缘更新。
八股C++C++构造函数能否为虚函数​    不能，有两点原因

使用角度：虚函数主要用于在信息不全的情况下，使得重载的函数得到相应的调用。构造函数的目的是初始化实例，使用虚函数在这里没有实际意义。而且，构造函数是在创建对象时自己主动调用的，不可能通过父类的指针或者引用去调用，因此构造函数没有必要是虚函数。

实现角度：在C++中，对象的虚表指针（VPTR）是在构造函数调用后才建立的。因此，在调用构造函数时还不能确定对象的真实类型（因为子类会调用父类的构造函数），并且构造函数的作用是提供初始化，在对象生命周期中仅运行一次，不是对象的动态行为，也没有必要成为虚函数。
*析构函数与构造函数的区别：虚函数的作用在于通过父类的指针或者引用来调用它的时候可以变成调用子类的那个成员函数。而析构函数可以是虚函数，因为我们往往通过基类的指针来销毁对象。如果析构函数不是虚函数，就不能正确识别对象类型从而不能正确调用析构函数，可能会导致资源泄露*


C++的构造函数中能否使用throw不能，原因：

构造函数异常的问题：如果构造函 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/06/12/Unreal-Advanced-Locomotion-Animation01/" title="Unreal Advanced Locomotion Animation (一) 基础"><img class="post-bg" src="/images/miku2.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unreal Advanced Locomotion Animation (一) 基础"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/06/12/Unreal-Advanced-Locomotion-Animation01/" title="Unreal Advanced Locomotion Animation (一) 基础">Unreal Advanced Locomotion Animation (一) 基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-12T09:19:58.881Z" title="发表于 2024-06-12 17:19:58">2024-06-12</time></span></div><div class="content">本文为 虚幻4（UE4） 动画技术 深入浅出 高级运动系统 的笔记
项目设置这个教程基于Advanced Locomotion System的动画资源(在Advanced Locomotion System插件的CharacterAssets/MannequinSkeleton/AnimationExamples路径中) 上展开的。因此，需要订阅该插件后从中提取资源。
由于订阅插件到提取资源过程教程中介绍的不详细，这里给出详细步骤。
在Epic Games Launcher的商城中订阅Advanced Locomotion System（下简称ALS）插件。

由于ALS插件无法直接加入到现有项目中因此，需要创建一个临时项目。

在临时项目中，找到CharacterAssets/MannequinSkeleton/AnimationExample文件夹，右键文件夹选择Migrate。将文件夹迁移到目标项目的Content文件夹中。

骨骼-姿势-动画在UE中带有骨骼动画的资源都由一个Skeleton Mesh资源表示。其中一个Skeleton Mesh与一个Skeleton一一对应，且 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2024/06/07/pbd01/" title="Position Based Dynamic (一)"><img class="post-bg" src="/images/miku1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Position Based Dynamic (一)"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/06/07/pbd01/" title="Position Based Dynamic (一)">Position Based Dynamic (一)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-06-07T02:20:31.000Z" title="发表于 2024-06-07 10:20:31">2024-06-07</time></span></div><div class="content">本文简要介绍了目前游戏工业界中软体模拟的一种常用方法Position Based Dynamic的原理以及实现。本文分为两个部分：原理以及实现。原理部分主要解读2005年的论文[1]，简要介绍了Position Based Dynamic的思想和原理。在实现部分，本文给出了一个基于Position Based Dynamic框架下的简单三角形模拟程序并详细解读了其代码。
原理​        非刚性物体的模拟在当下的游戏产业日渐成为重要的组成部分 (懂得都懂)。相比传统模拟，游戏产业对求解结果的精确性并没有那么高的要求，相反如何快速高效的求出视觉上具有说服力的结果是游戏相关模拟技术关注的重点。因此，Position Based Dynamic(PBD)应运而生。相比于有限元，Material Point Method等更加准确的方法，PBD更关注数值稳定性以及模拟结果的说服力，这点在PBD如何处理碰撞上表现的尤为突出。相比传统方法中通过力的作用修正碰撞结果，PBD在处理碰撞时往往会先估计碰撞后系统的状态，再通过碰撞结果更新当前系统的状态。
PBD的世界​        对于PBD方法， ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2024/01/03/NewtonJsonUnity/" title="Unity中的Newtonsoft.Json---(1)"><img class="post-bg" src="/images/mika0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Unity中的Newtonsoft.Json---(1)"></a></div><div class="recent-post-info"><a class="article-title" href="/2024/01/03/NewtonJsonUnity/" title="Unity中的Newtonsoft.Json---(1)">Unity中的Newtonsoft.Json---(1)</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2024-01-03T03:06:14.000Z" title="发表于 2024-01-03 11:06:14">2024-01-03</time></span></div><div class="content">最近在做实验室项目的过程中，碰到了需要用Json序列化数据并在unity中读取的需求。搜索网络，发现unity内置的json序列化以及反序列化工具均只支持有结构的数据，因此我试着在unity中引入Newtonsoft.Json来对数据做非序列化的访问和遍历。此帖为导入过程中的踩坑帖。
1. 下载Newtonsoft.Json二进制文件在Newtonsoft的官方网站 下载编译好的二进制文件


2. 导入Unity关于如何将编译好的库导入到unity,一篇知乎文章讲的很详细。然而，根据我的实际测试，导入过程完全不需要这么麻烦。
在解压缩上述的zip文件后能得到json库的源文件以及编译好的二进制dll。在[解压缩文件的根目录]/Bin/文件夹下，能看到不同.net版本的dll

选择最接近unity使用的.net版本即可，在unity中可通过edit/Project Settings/Player的Configuration中查看

虽然我的unity使用的.net版本是 .net standard 2.1，经实际测试使用netstandard2.0版本的dll文件不会出问题。
接着， ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/2023/12/07/mpm01/" title="物质质点法--从理论到实现"><img class="post-bg" src="/images/16801.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="物质质点法--从理论到实现"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/12/07/mpm01/" title="物质质点法--从理论到实现">物质质点法--从理论到实现</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-12-06T16:44:02.000Z" title="发表于 2023-12-07 00:44:02">2023-12-07</time></span></div><div class="content">本文为The Material Point Method for Simulating Continuum Materials 的笔记。首先本文介绍了push forward和pull back，它们为欧拉视角和拉格朗日视角之间的转换提供了重要视角。接着，本文从形变梯度，拉格朗日欧拉视角，压力的定义出发，根据动量守恒以及能量守恒推导了整个系统应遵守的核心方程。物质质点法采用了欧拉以及拉格朗日的混合视角，对空间给出了质点以及网格两种不同离散形式，本文还讨论了这两种离散形式之间物理量如何转化，以及核心方程的离散化形式。最后，本文给出了一个简单原始的mpm实现，并详细解读它的代码。
Push Forward and Pull Back对于一个双射映射，能找到 我们都有 有
对于任意映射 我们都能定义 ,
Push Forward和Pull back在拉格朗日视角和欧拉视角之间相互转换起着重要作用。它定义了如何看待两个变化着的系统的不变量。
形变梯度为了研究物体随时间形变的受力，我们通常会研究物体的deform空间以及reference空间。其中reference空间种物体处于不受任何力的自然 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/2023/12/05/debugPrintfExt/" title="如何在glsl中使用printf--debugPrintfExt"><img class="post-bg" src="/images/otto0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="如何在glsl中使用printf--debugPrintfExt"></a></div><div class="recent-post-info"><a class="article-title" href="/2023/12/05/debugPrintfExt/" title="如何在glsl中使用printf--debugPrintfExt">如何在glsl中使用printf--debugPrintfExt</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2023-12-05T07:43:07.000Z" title="发表于 2023-12-05 15:43:07">2023-12-05</time></span></div><div class="content">主要参考VulkanでShaderからprintfする方法
在shader中开启GL_EXT_debug_printf拓展可以很方便的在shader中使用print。用法为:
在shader开头开启GL_EXT_debug_printf拓展:
1#extension GL_EXT_debug_printf : enable
在shader中用和printf同样的方法调用debugPrintfEXT
123456void main()&#123;	...    debugPrintfEXT(&quot;from mesh thread group %d %d %d\n&quot;,gl_GlobalInvocationID.x, gl_GlobalInvocationID.y, gl_GlobalInvocationID.z);    ...&#125;
接着需要在vulkan configurator中添加对这个拓展的支持。
在validation settings 中标红线处的选项改为Debug Printf Present

在vulkan创建instance的过程中需要初始化Vk ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/#content-inner">2</a><a class="extend next" rel="next" href="/page/2/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/ranran0.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">tzn</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">14</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/tzn893"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">tzn的笔记杂物间, 以后可能会写点有杂谈发电在这里捏</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2025/06/26/UE-terrain-1/" title="UE4中的地形以及植被系统(1)--地形的编辑"><img src="/images/ia1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="UE4中的地形以及植被系统(1)--地形的编辑"/></a><div class="content"><a class="title" href="/2025/06/26/UE-terrain-1/" title="UE4中的地形以及植被系统(1)--地形的编辑">UE4中的地形以及植被系统(1)--地形的编辑</a><time datetime="2025-06-26T02:03:14.000Z" title="发表于 2025-06-26 10:03:14">2025-06-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2025/05/13/mat-cook-torrance/" title="再探PBR--微表面模型"><img src="/images/kyky.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="再探PBR--微表面模型"/></a><div class="content"><a class="title" href="/2025/05/13/mat-cook-torrance/" title="再探PBR--微表面模型">再探PBR--微表面模型</a><time datetime="2025-05-13T01:58:37.000Z" title="发表于 2025-05-13 09:58:37">2025-05-13</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/25/Volume2/" title="再探体渲染(二)--Ray Marching 从理论到实现"><img src="/images/kiki0.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="再探体渲染(二)--Ray Marching 从理论到实现"/></a><div class="content"><a class="title" href="/2024/10/25/Volume2/" title="再探体渲染(二)--Ray Marching 从理论到实现">再探体渲染(二)--Ray Marching 从理论到实现</a><time datetime="2024-10-25T13:35:57.000Z" title="发表于 2024-10-25 21:35:57">2024-10-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/10/22/VolumeRender1/" title="再探体渲染（一）-- 理论"><img src="/images/misc0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="再探体渲染（一）-- 理论"/></a><div class="content"><a class="title" href="/2024/10/22/VolumeRender1/" title="再探体渲染（一）-- 理论">再探体渲染（一）-- 理论</a><time datetime="2024-10-22T15:08:24.000Z" title="发表于 2024-10-22 23:08:24">2024-10-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/13/Interview/" title="校招面试题汇总"><img src="/images/mika1.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="校招面试题汇总"/></a><div class="content"><a class="title" href="/2024/06/13/Interview/" title="校招面试题汇总">校招面试题汇总</a><time datetime="2024-06-13T06:52:33.000Z" title="发表于 2024-06-13 14:52:33">2024-06-13</time></div></div></div></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/render-UE/" style="font-size: 1.1em; color: #999">render UE</a> <a href="/tags/animation-UE/" style="font-size: 1.1em; color: #999">animation UE</a> <a href="/tags/physics/" style="font-size: 1.5em; color: #99a9bf">physics</a> <a href="/tags/render/" style="font-size: 1.37em; color: #99a4b2">render</a> <a href="/tags/vulkan/" style="font-size: 1.23em; color: #999ea6">vulkan</a> <a href="/tags/Unity-%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/" style="font-size: 1.1em; color: #999">Unity 游戏开发</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/06/"><span class="card-archive-list-date">六月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2025/05/"><span class="card-archive-list-date">五月 2025</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/01/"><span class="card-archive-list-date">一月 2024</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/12/"><span class="card-archive-list-date">十二月 2023</span><span class="card-archive-list-count">6</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">14</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-06-26T02:25:04.084Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By tzn</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>